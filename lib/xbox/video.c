#include "xbox.h"


#define VIDEO_REGION_NTSCM 0x00000100
#define VIDEO_REGION_NTSCJ 0x00000200
#define VIDEO_REGION_PAL   0x00000300

typedef struct _VIDEO_MODE_SETTING
{
    uint32_t dwMode;
    int width;
    int height;
    int refresh;
    uint32_t dwStandard;
    uint32_t dwFlags;
} VIDEO_MODE_SETTING;

#define AV_PACK_NONE     0x00000000
#define AV_PACK_STANDARD 0x00000001
#define AV_PACK_RFU      0x00000002
#define AV_PACK_SCART    0x00000003
#define AV_PACK_HDTV     0x00000004
#define AV_PACK_VGA      0x00000005
#define AV_PACK_SVIDEO   0x00000006

static VIDEO_MODE_SETTING vidModes[] = {
    {0x44030307, 640, 480, 50, VIDEO_REGION_PAL, AV_PACK_STANDARD},   // 640x480 PAL 50Hz
    {0x44040408, 720, 480, 50, VIDEO_REGION_PAL, AV_PACK_STANDARD},   // 720x480 PAL 50Hz
    {0x0401010B, 640, 480, 60, VIDEO_REGION_PAL, AV_PACK_STANDARD},   // 640x480 PAL 60Hz
    {0x0402020C, 720, 480, 60, VIDEO_REGION_PAL, AV_PACK_STANDARD},   // 720x480 PAL 60Hz
    {0x04010101, 640, 480, 60, VIDEO_REGION_NTSCM, AV_PACK_STANDARD}, // 640x480 NTSCM 60Hz
    {0x04020202, 720, 480, 60, VIDEO_REGION_NTSCM, AV_PACK_STANDARD}, // 720x480 NTSCM 60Hz
    {0x04010103, 640, 480, 60, VIDEO_REGION_NTSCJ, AV_PACK_STANDARD}, // 640x480 NTSCJ 60Hz
    {0x04020204, 720, 480, 60, VIDEO_REGION_NTSCJ, AV_PACK_STANDARD}, // 720x480 NTSCJ 60Hz

    {0x60030307, 640, 480, 50, VIDEO_REGION_PAL, AV_PACK_SCART},   // 640x480 PAL 50Hz RGB
    {0x60040408, 720, 480, 50, VIDEO_REGION_PAL, AV_PACK_SCART},   // 720x480 PAL 50Hz RGB
    {0x2001010B, 640, 480, 60, VIDEO_REGION_PAL, AV_PACK_SCART},   // 640x480 PAL 60Hz RGB
    {0x2002020C, 720, 480, 60, VIDEO_REGION_PAL, AV_PACK_SCART},   // 720x480 PAL 60Hz RGB
    {0x20010101, 640, 480, 60, VIDEO_REGION_NTSCM, AV_PACK_SCART}, // 640x480 NTSCM 60Hz RGB
    {0x20020202, 720, 480, 60, VIDEO_REGION_NTSCM, AV_PACK_SCART}, // 720x480 NTSCM 60Hz RGB
    {0x20010103, 640, 480, 60, VIDEO_REGION_NTSCJ, AV_PACK_SCART}, // 640x480 NTSCJ 60Hz RGB
    {0x20020204, 720, 480, 60, VIDEO_REGION_NTSCJ, AV_PACK_SCART}, // 720x480 NTSCJ 60Hz RGB

    {0x48030314, 640, 480, 50, VIDEO_REGION_PAL, AV_PACK_HDTV},     // 640x480i PAL 50Hz
    {0x48040415, 720, 480, 50, VIDEO_REGION_PAL, AV_PACK_HDTV},     // 720x480i PAL 50Hz
    {0x08010119, 640, 480, 60, VIDEO_REGION_PAL, AV_PACK_HDTV},     // 640x480i PAL 60Hz
    {0x0802021a, 720, 480, 60, VIDEO_REGION_PAL, AV_PACK_HDTV},     // 720x480i PAL 60Hz
    {0x0801010d, 640, 480, 60, VIDEO_REGION_NTSCM, AV_PACK_HDTV},   // 640x480i NTSCM 60Hz
    {0x0802020e, 720, 480, 60, VIDEO_REGION_NTSCM, AV_PACK_HDTV},   // 720x480i NTSCM 60Hz
    {0x88070701, 640, 480, 60, VIDEO_REGION_NTSCM, AV_PACK_HDTV},   // 640x480p NTSCM 60Hz
    {0x88080801, 720, 480, 60, VIDEO_REGION_NTSCM, AV_PACK_HDTV},   // 720x480p NTSCM 60Hz
    {0x880B0A02, 1280, 720, 60, VIDEO_REGION_NTSCM, AV_PACK_HDTV},  // 1280x720p NTSCM 60Hz
    {0x880E0C03, 1920, 1080, 60, VIDEO_REGION_NTSCM, AV_PACK_HDTV}, // 1920x1080i NTSCM 60Hz
    {0x0801010d, 640, 480, 60, VIDEO_REGION_NTSCJ, AV_PACK_HDTV},   // 640x480i NTSCJ 60Hz
    {0x0802020e, 720, 480, 60, VIDEO_REGION_NTSCJ, AV_PACK_HDTV},   // 720x480i NTSCJ 60Hz
    {0x88070701, 640, 480, 60, VIDEO_REGION_NTSCJ, AV_PACK_HDTV},   // 640x480p NTSCJ 60Hz
    {0x88080801, 720, 480, 60, VIDEO_REGION_NTSCJ, AV_PACK_HDTV},   // 720x480p NTSCJ 60Hz
    {0x880B0A02, 1280, 720, 60, VIDEO_REGION_NTSCJ, AV_PACK_HDTV},  // 1280x720p NTSCJ 60Hz
    {0x880E0C03, 1920, 1080, 60, VIDEO_REGION_NTSCJ, AV_PACK_HDTV}, // 1920x1080i NTSCJ 60Hz

    {0x44030307, 640, 480, 50, VIDEO_REGION_PAL, AV_PACK_SVIDEO},   // 640x480 PAL 50Hz
    {0x44040408, 720, 480, 50, VIDEO_REGION_PAL, AV_PACK_SVIDEO},   // 720x480 PAL 50Hz
    {0x0401010B, 640, 480, 60, VIDEO_REGION_PAL, AV_PACK_SVIDEO},   // 640x480 PAL 60Hz
    {0x0402020C, 720, 480, 60, VIDEO_REGION_PAL, AV_PACK_SVIDEO},   // 720x480 PAL 60Hz
    {0x04010101, 640, 480, 60, VIDEO_REGION_NTSCM, AV_PACK_SVIDEO}, // 640x480 NTSCM 60Hz
    {0x04020202, 720, 480, 60, VIDEO_REGION_NTSCM, AV_PACK_SVIDEO}, // 720x480 NTSCM 60Hz
    {0x04010103, 640, 480, 60, VIDEO_REGION_NTSCJ, AV_PACK_SVIDEO}, // 640x480 NTSCJ 60Hz
    {0x04020204, 720, 480, 60, VIDEO_REGION_NTSCJ, AV_PACK_SVIDEO}, // 720x480 NTSCJ 60Hz
};